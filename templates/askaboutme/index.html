{% extends "askaboutme/base_generic.html" %}

{% block content %}

<style>
  .question-and-answer {
    /* box-shadow: rgba(200, 199, 199, 0.5) 0px 8px 4px 0px; */
    min-height: 160px;
    /* border-bottom: unset; */
  }

  .question-and-answer-header {
    /* box-shadow: rgba(200, 199, 199, 0.5) 0px 8px 4px 0px; */
    border-bottom: unset;
    padding: 4px 1.25em 4px 1.25em;
  }

  .question-and-answer-footer {
    border-bottom: unset;
    padding: 4px 1.25em 4px 1.25em;
  }

</style>

<h1 class="page-heading">Ask About Me</h1>
<p>Hi, welcome here, where you could ask questions about me!
  Post a question <a href="{% url 'askaboutme:askq' %}">here</a>.
</p>

<p>There are {{ polite_question_number }} questions.</p>

{% for question in question_list %}
<div class="question-and-answer card" id="question-{{ question.pk }}">
  <div class="question-and-answer-header card-header text-muted">
    (<time>{{ question.created_time|date:'N j' }}</time>)
    <!-- NOTE the template syntax in the comment is also parsed by Django. -->

  </div>
  <div class="card-body">
    {{ question.content|linebreaks }}
  </div>
  {% if question.public_answer %}
  <div class="question-and-answer-footer card-footer">
    <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#answer-{{ question.public_answer.pk }}" aria-expanded="true" aria-controls="answer-{{ question.public_answer.pk }}">
      Answer:
    </button>
    <div class="card-body">
      <div id="answer-{{ question.public_answer.pk }}" class="collapse" aria-labelledby="headingOne" data-parent="#question-{{ question.pk }}">
        {{ question.public_answer.content|linebreaks }}
      </div>
    </div>
  </div>
  {% endif %}
</div>

{% empty %}
<div class="no-question">There is no question now. You could ask a question <a href="{% url 'askaboutme:askq' %}">here</a>.</div>
{% endfor %}
{% endblock %}
